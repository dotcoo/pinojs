{"version":3,"sources":["webpack://pinomock/webpack/universalModuleDefinition","webpack://pinomock/webpack/bootstrap","webpack://pinomock/./src/mock/Server.js","webpack://pinomock/./src/mock/XMLHttpRequest.js","webpack://pinomock/./src/mock/fetch.js","webpack://pinomock/./src/mock/index.js"],"names":["root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Request","init","method","toUpperCase","url","headers","body","uri","URL","window","location","href","response","Response","status","statusText","json","JSON","stringify","Server","host","requestMiddlewares","responseMiddlewares","handlers","middleware","push","path","constructor","RegExp","paramsNames","matchAll","map","v","pathRegStr","replace","handle","useIntercept","pathReg","path2regexp","request","test","req","handler","source","flags","pathname","params","query","fromEntries","URLSearchParams","search","form","formData","FormData","contentType","startsWith","parse","route","pop","groups","ended","XMLHttpRequestReal","XMLHttpRequest","super","getAllResponseHeaders","getResponseHeader","async","args","open","setRequestHeader","sendInit","sendRequest","sendResponse","navigator","userAgent","language","document","cookie","length","Promise","resolve","onerror2","onerror","err","console","log","ontimeout2","ontimeout","onload2","onload","readyState","onreadystatechange2","onreadystatechange","send","defineProperties","configurable","writable","responseText","responseType","fetch","Headers","fetchReal","mock","pino","server","addRequestMiddleware","addResponseMiddleware","post","put","delete","servers","addServer","isHost","intercept","unintercept"],"mappings":"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","file":"pino.mock.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"pinomock\"] = factory();\n\telse\n\t\troot[\"pinomock\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","function requestLog(req) {\n  if (process.env.NODE_ENV !== 'development') {\n    return;\n  }\n  let data = '================================================================================\\n'\n  data += `%c${req.method} ${req.uri.pathname}${req.uri.search} HTTP/1.1%c\\n`;\n  for (const key in req.headers) {\n    data += `${key}: ${req.headers[key]}\\n`;\n  }\n  if (req.body && (req.method === 'POST' || req.method === 'PUT')) {\n    data += '\\n' + req.body;\n  }\n  console.log(data.trim() + '', 'background-color:lightgreen;','color:initial;background-color:initial;');\n}\n\nfunction responseLog(res) {\n  if (process.env.NODE_ENV !== 'development') {\n    return;\n  }\n  let data = `%cHTTP/1.1 ${res.status} ${res.statusText}%c\\n`;\n  for (const key in res.headers) {\n    data += `${key}: ${res.headers[key]}\\n`;\n  }\n  data += '\\n' + res.body;\n  data = data.trim() + '\\n================================================================================';\n  console.log(data, 'background-color:lightblue;','color:initial;background-color:initial;');\n}\n\nexport class Request {\n  constructor(init) {\n    this.init = init;\n    this.method = init.method ? init.method.toUpperCase() : 'GET';\n    this.url = init.url;\n    this.headers = init.headers || {};\n    this.body = init.body || '';\n    this.uri = new URL(init.url, window.location.href);\n    this.response = new Response();\n  }\n}\n\nexport class Response {\n  constructor() {\n    this.status = 200;\n    this.statusText = 'OK';\n    this.headers = {};\n    this.body = '';\n  }\n\n  send(body) {\n    this.body = body;\n  }\n\n  json(json) {\n    this.headers['Content-Type'] = 'application/json; charset=utf-8';\n    this.body = JSON.stringify(json);\n  }\n}\n\nexport class Server {\n  constructor(host) {\n    this.host = host;\n    this.requestMiddlewares = [];\n    this.responseMiddlewares = [];\n    this.handlers = [];\n  }\n\n  addRequestMiddleware(middleware) {\n    this.requestMiddlewares.push(middleware);\n  }\n\n  addResponseMiddleware(middleware) {\n    this.responseMiddlewares.push(middleware);\n  }\n\n  path2regexp(path) {\n    if (path.constructor === RegExp) {\n      return path;\n    }\n    const paramsNames = [...path.matchAll(/:([a-z_][a-z0-9_]*)/ig)].map(v => v[1]);\n    let pathRegStr = '^' + path.replace(/\\//g, '\\\\/') + '$';\n    for (const name of paramsNames) {\n      pathRegStr = pathRegStr.replace(':' + name, `(?<${name}>[a-z0-9_]+)`);\n    }\n    return new RegExp(pathRegStr, 'ig');\n  }\n\n  request(method, path, handle, useIntercept = true) {\n    this.handlers.push({\n      method,\n      path,\n      handle,\n      useIntercept,\n      pathReg: this.path2regexp(path),\n    });\n  }\n\n  get(path, handle, useIntercept = true) {\n    this.request('GET', path, handle, useIntercept);\n  }\n\n  post(path, handle, useIntercept = true) {\n    this.request('POST', path, handle, useIntercept);\n  }\n\n  put(path, handle, useIntercept = true) {\n    this.request('PUT', path, handle, useIntercept);\n  }\n\n  delete(path, handle, useIntercept = true) {\n    this.request('DELETE', path, handle, useIntercept);\n  }\n\n  isHost(host) {\n    return this.host.constructor === RegExp ? this.host.test(host) : this.host === host;\n  }\n\n  route(req) {\n    for (const handler of this.handlers) {\n      if (handler.useIntercept === req.useIntercept && handler.method === req.method && new RegExp(handler.pathReg.source, handler.pathReg.flags).test(req.uri.pathname)) {\n        return handler;\n      }\n    }\n    return false;\n  }\n\n  async parse(req) {\n    req.params = {};\n    req.query = Object.fromEntries(new window.URLSearchParams(req.uri.search));\n    req.form = {};\n    req.formData = new FormData();\n    req.json = {};\n    const contentType = req.headers['Content-Type'];\n    if ((req.method === 'POST' || req.method === 'PUT') && contentType) {\n      if (contentType.startsWith('application/x-www-form-urlencoded')) {\n        if (req.body instanceof window.URLSearchParams) {\n          req.form = Object.fromEntries(req.body);\n        } else {\n          req.form = Object.fromEntries(new window.URLSearchParams(req.body));\n        }\n      }\n      if (contentType.startsWith('multipart/form-data')) {\n        req.formData = req.body;\n      }\n      if (contentType.startsWith('application/json')) {\n        req.json = JSON.parse(req.body);\n      }\n    }\n    req.response = new Response();\n  }\n\n  async handle(req) {\n    const handler = this.route(req);\n    if (!handler) {\n      return false;\n    }\n    this.parse(req);\n    req.params = Object.fromEntries(new window.URLSearchParams([...req.uri.pathname.matchAll(new RegExp(handler.pathReg.source, handler.pathReg.flags))].pop().groups));\n    requestLog(req);\n    for (const m of this.requestMiddlewares) {\n      await m(req);\n      if (req.ended) {\n        responseLog(req.response);\n        return true;\n      }\n    }\n    await handler.handle(req);\n    for (const m of this.responseMiddlewares) {\n      await m(req);\n      if (req.ended) {\n        responseLog(req.response);\n        return true;\n      }\n    }\n    responseLog(req.response);\n    return true;\n  }\n}\n\nexport default {\n  Request,\n  Response,\n  Server,\n};\n","import { Request } from './Server';\n\nwindow.XMLHttpRequestReal = window.XMLHttpRequest;\n\nclass XMLHttpRequest extends window.XMLHttpRequestReal {\n  getAllResponseHeaders() {\n    if (!this.req || !this.req.response) {\n      return super.getAllResponseHeaders();\n    }\n    let headers = '';\n    for (const name in this.req.response.headers) {\n      headers += `${name}: ${this.req.response.headers[name]}\\r\\n`;\n    }\n    return headers;\n  }\n\n  getResponseHeader(name) {\n    if (!this.req || !this.req.response) {\n      return super.getResponseHeader(name);\n    }\n    return this.req.response.headers[name];\n  }\n\n  open(method, url, async = true, ...args) {\n    super.open(method, url, async, ...args);\n    this.req = new Request({ method, url });\n  }\n\n  setRequestHeader(name, value) {\n    super.setRequestHeader(name, value);\n    this.req.headers[name] = value;\n  }\n\n  async send(...args) {\n    this.sendInit(...args);\n    if (await this.sendRequest(...args)) {\n      this.sendResponse();\n    }\n  }\n\n  sendInit(...args) {\n    this.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n    this.req.headers['Host'] = this.req.uri.host;\n    this.req.headers['User-Agent'] = window.navigator.userAgent;\n    this.req.headers['Accept'] = '*/*';\n    this.req.headers['Referer'] = window.location.href;\n    this.req.headers['Accept-Language'] = window.navigator.language;\n    this.req.headers['Cookie'] = window.document.cookie;\n    this.req.body = args.length ? args[0] : '';\n  }\n\n  async sendRequest(...args) {\n    this.req.useIntercept = true;\n    if (await XMLHttpRequest.handle(this.req)) {\n      return true;\n    }\n    this.req.useIntercept = false;\n\n    const result = await new Promise(resolve => {\n      this.onerror2 = this.onerror;\n      this.onerror = (err) => {\n        console.log('XMLHttpRequest error:', err);\n        resolve(false);\n      };\n      this.ontimeout2 = this.ontimeout;\n      this.ontimeout = (err) => {\n        console.log('XMLHttpRequest meout:', err);\n        resolve(false);\n      };\n      this.onload2 = this.onload;\n      this.onload = () => {\n        this.req.response.status = this.status;\n        this.req.response.statusText = this.statusText;\n        if (this.readyState === 4 && (this.status >= 500 || this.status === 404)) {\n          resolve(false);\n        }\n        if (this.readyState === 4 && this.status < 500 && this.status !== 404) {\n          resolve(true);\n          if (this.onload2) {\n            this.onload2();\n          }\n        }\n      };\n      this.onreadystatechange2 = this.onreadystatechange;\n      this.onreadystatechange = () => {\n        this.req.response.status = this.status;\n        this.req.response.statusText = this.statusText;\n        if (this.readyState === 4 && (this.status >= 500 || this.status === 404)) {\n          resolve(false);\n        }\n        if (this.readyState === 4 && this.status < 500 && this.status !== 404) {\n          resolve(true);\n          if (this.onreadystatechange2) {\n            this.onreadystatechange2();\n          }\n        }\n      };\n      super.send(...args);\n    });\n    if (result) {\n      return false;\n    } else if(!XMLHttpRequest.route(this.req)) {\n      if (this.onerror2) {\n        this.onerror2();\n      } else if (this.ontimeout2) {\n        this.ontimeout2();\n      }\n    }\n\n    this.req.useIntercept = false;\n    await XMLHttpRequest.handle(this.req);\n    return true;\n  }\n\n  sendResponse() {\n    // remove readonly\n    Object.defineProperties(this, {\n      readyState: { value: 4, configurable: true, enumerable: true, writable: true },\n      status: { value: 200, configurable: true, enumerable: true, writable: true },\n      statusText: { value: 'OK', configurable: true, enumerable: true, writable: true },\n      responseText: { value: '', configurable: true, enumerable: true, writable: true },\n      response: { value: null, configurable: true, enumerable: true, writable: true },\n      // responseURL: { value: window.location.href, configurable: true, enumerable: true, writable: true },\n      // responseXML: { value: null, configurable: true, enumerable: true, writable: true },\n      // upload: { value: null, configurable: true, enumerable: true, writable: true },\n    });\n\n    this.readyState = 4;\n    this.status = this.req.response.status;\n    this.statusText = this.req.response.statusText;\n    this.response = this.responseText = this.req.response.body;\n    if (this.responseType === 'json' ) {\n      this.response = this.responseText === '' ? {} : JSON.parse(this.responseText);\n    }\n\n    if (this.onload) {\n      this.onload();\n    } else if (this.onreadystatechange) {\n      this.onreadystatechange();\n    }\n  }\n}\n\nXMLHttpRequest.route = function(req) {\n  return false;\n};\n\nXMLHttpRequest.handle = async function(req) {\n  req.response.status = 444;\n};\n\nexport default XMLHttpRequest;\n","import { Request } from './Server';\n\nwindow.fetchReal = window.fetch;\n\nasync function fetch(url, init = {}, ...args) {\n  const req = new Request({ ...init, url });\n\n  req.useIntercept = true;\n  if (await fetch.handle(req)) {\n    return new window.Response(req.response.body, {\n      status: req.response.status,\n      statusText: req.response.statusText,\n      headers: new window.Headers(req.response.headers),\n    });\n  }\n  req.useIntercept = false;\n\n  try {\n    return await window.fetchReal(url, init, ...args);\n  } catch (err) {\n    console.log('fetch error:', err);\n    if (!fetch.handle(req)) {\n      throw err;\n    }\n  }\n\n  await fetch.handle(req);\n  return new window.Response(req.response.body, {\n    status: req.response.status,\n    statusText: req.response.statusText,\n    headers: new window.Headers(req.response.headers),\n  });\n}\n\nfetch.route = function(req) {\n  return false;\n};\n\nfetch.handle = async function(req) {\n  req.response.status = 444;\n};\n\nexport default fetch;\n","import { Request, Response, Server } from './Server';\nimport XMLHttpRequest from './XMLHttpRequest';\nimport fetch from './fetch';\n\nexport default function mock(pino) {\n  // ====== register ======\n\n  pino.Request = Request;\n  pino.Response = Response;\n  pino.Server = Server;\n  pino.XMLHttpRequest = XMLHttpRequest;\n  pino.fetch = fetch;\n\n  // ====== Server ======\n\n  pino.server = new pino.Server(window.location.host);\n  pino.addRequestMiddleware = pino.server.addRequestMiddleware.bind(pino.server);\n  pino.addResponseMiddleware = pino.server.addResponseMiddleware.bind(pino.server);\n  pino.request = pino.server.request.bind(pino.server);\n  pino.get = pino.server.get.bind(pino.server);\n  pino.post = pino.server.post.bind(pino.server);\n  pino.put = pino.server.put.bind(pino.server);\n  pino.delete = pino.server.delete.bind(pino.server);\n\n  pino.servers = [pino.server];\n\n  pino.addServer = function(server) {\n    this.servers.push(server);\n  };\n\n  pino.route = function(req) {\n    for (const server of this.servers) {\n      if (server.isHost(req.uri.host) && server.route(req)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  pino.handle = async function(req) {\n    for (const server of this.servers) {\n      if (server.isHost(req.uri.host) && await server.handle(req)) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  // ====== XMLHttpRequest ======\n\n  pino.XMLHttpRequest.route = pino.route.bind(pino);\n  pino.XMLHttpRequest.handle = pino.handle.bind(pino);\n\n  // ====== fetch ======\n\n  pino.fetch.route = pino.route.bind(pino);\n  pino.fetch.handle = pino.handle.bind(pino);\n\n  // ====== intercept ======\n\n  pino.intercept = function() {\n    window.XMLHttpRequest = pino.XMLHttpRequest;\n    window.fetch = pino.fetch;\n  };\n\n  pino.unintercept = function() {\n    window.XMLHttpRequest = window.XMLHttpRequestReal;\n    window.fetch = window.fetchReal;\n  };\n\n  // ====== now ======\n  pino.intercept();\n};\n"],"sourceRoot":""}