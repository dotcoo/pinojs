!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.pino=t():e.pino=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const r=(async()=>{}).constructor;function i(e){if(e.entries)for(const[t,n]of e.entries())e[t]=n;return e}var o=class{constructor(e=window.location.host){this.host=e,this.middlewares=[],this.handler=null}use(e){if(e.constructor!==r)throw new Error("middleware can only be asynchronous functions!");this.middlewares.push(e)}isHost(e){return this.host.constructor===RegExp?this.host.test(e):this.host===e}get(e,t){this.route("GET",e,t)}post(e,t){this.route("POST",e,t)}put(e,t){this.route("PUT",e,t)}delete(e,t){this.route("DELETE",e,t)}route(e,t,n){if(n.constructor!==r)throw new Error("handle can only be asynchronous functions!");let o=t;if(t.constructor===String){const e=[...t.matchAll(/:([a-z_][a-z0-9_]*)/gi)].map(e=>e[1]);let n="^"+t.replace(/\//g,"\\/")+"$";for(const t of e)n=n.replace(":"+t,`(?<${t}>[a-z0-9_]+)`);o=new RegExp(n,"ig")}this.use(async(t,r,u)=>{t.uri.host===this.host&&t.method===e&&new RegExp(o.source,o.flags).test(t.uri.pathname)?(t.params=i(new window.URLSearchParams([...t.uri.pathname.matchAll(new RegExp(o.source,o.flags))].pop().groups)),r.request=t,await n(t,r,u)):await u(t,r)})}async notfound(e,t,n){t.status=404,t.statusText="not found",t.body=""}getHandler(){let e=this.notfound;for(let t=this.middlewares.length-1;t>=0;t--){const n=this.middlewares[t],r=e;e=async(e,t)=>await n(e,t,r)}return e}async handle(e){null===this.handler&&(this.handler=this.getHandler()),e.uri=new window.URL(e.url,window.location.href),i(e.headers),e.query=i(new window.URLSearchParams(e.uri.search)),e.form=new window.URLSearchParams,"POST"===e.method&&e.headers.get("Content-Type")&&(e.headers.get("Content-Type").startsWith("application/x-www-form-urlencoded")?e.form=i(new window.URLSearchParams(e.body)):e.headers.get("Content-Type").startsWith("application/json")&&(e.form=JSON.parse(e.body))),e.body=e.body?e.body:"";const t=new window.Response;return Object.defineProperties(t,{url:{configurable:!0,enumerable:!1,value:"",writable:!0},status:{configurable:!0,enumerable:!1,value:200,writable:!0},statusText:{configurable:!0,enumerable:!1,value:"OK",writable:!0},body:{configurable:!0,enumerable:!1,value:"",writable:!0}}),t.url=e.url,t.send=function(e){this.body=e},t.json=function(e){this.body=JSON.stringify(e)},await this.handler(e,t),i(t.headers),t.text=async function(){return this.body},t.json=async function(){return JSON.parse(this.body)},t}};window.XMLHttpRequestReal=window.XMLHttpRequest;class u extends window.XMLHttpRequestReal{constructor(){super(),this.req=new window.Request("",{}),Object.defineProperties(this.req,{method:{configurable:!0,enumerable:!1,value:"GET",writable:!0},url:{configurable:!0,enumerable:!1,value:"",writable:!0},body:{configurable:!0,enumerable:!1,value:"",writable:!0}}),this.res=null,Object.defineProperties(this,{readyState:{configurable:!0,enumerable:!1,value:4,writable:!0},status:{configurable:!0,enumerable:!1,value:200,writable:!0},statusText:{configurable:!0,enumerable:!1,value:"OK",writable:!0},responseText:{configurable:!0,enumerable:!1,value:"",writable:!0}})}open(e,t,n=!0,...r){super.open(e,t,n,...r),this.req.method=e,this.req.uri=new URL(t,window.location.href),this.req.url=this.req.uri.href}setRequestHeader(e,t){super.setRequestHeader(e,t),this.req.headers.set(e,t)}getAllResponseHeaders(){let e="";for(const[t,n]of this.res.headers.entries())e+=`${t}: ${n}\r\n`;return e}getResponseHeader(e){return this.req.headers.get(e)}async send(e=""){if(this.req.headers.set("Host",this.req.uri.host),this.req.headers.set("User-Agent",window.navigator.userAgent),this.req.headers.set("Accept","*/*"),this.req.headers.set("Referer",window.location.href),this.req.headers.set("Accept-Language",window.navigator.language),this.req.headers.set("Cookie",window.document.cookie),this.setRequestHeader("X-Requested-With","XMLHttpRequest"),this.req.body=e,this.res=await u.handle(this.req),!1===this.res||this.res&&404===this.res.status)return super.send(e);this.readyState=4,this.status=this.res.status,this.statusText=this.res.statusText,this.responseText=this.res.body,setTimeout(()=>{if(this.onload)this.onload();else{if(!this.onreadystatechange)throw new Error("not found onload and onreadystatechange!");this.onreadystatechange()}},u.delay)}}u.delay=200,u.handle=async function(e){return!1},window.XMLHttpRequest=u;var a=u;async function s(e,t,...n){const r=new window.Request("",{});Object.defineProperties(r,{method:{configurable:!0,enumerable:!1,value:"GET",writable:!0},url:{configurable:!0,enumerable:!1,value:"",writable:!0},body:{configurable:!0,enumerable:!1,value:"",writable:!0}}),r.method=t&&t.method?t.method:"GET",r.uri=new URL(e,window.location.href),r.url=r.uri.href;const i=await s.handle(r);return!1===i||i&&404===i.status?window.fetchReal(e,t,...n):i}window.fetchReal=window.fetch,s.handle=async function(e){return!1},window.fetch=s;var l=s;n.d(t,"Server",(function(){return g})),n.d(t,"XMLHttpRequest",(function(){return y})),n.d(t,"fetch",(function(){return w}));const c=Number.MIN_SAFE_INTEGER/2,d=Number.MAX_SAFE_INTEGER/2,h=Number.MAX_SAFE_INTEGER/2;function f(e){return e.length>0&&e[e.length-1].constructor===Function&&e.pop()}function m(...e){return(...t)=>this(...e,...t)}const b={bool:function(){return Math.floor(2147483647*Math.random())%2==1}};b.bool.currying=m,b.boolean=b.bool,b.number=function(...e){const t={min:-2147483648,max:2147483647,decimal:-1},n=Object.assign({},t,...e);let r=n.min+Math.random()*(n.max-n.min);return n.decimal>-1&&(r=r.toFixed(n.decimal)-0),r},b.number.currying=m,b.string=function(...e){e.length>0&&"number"==typeof e[0]&&(e[0]={len:e[0]});const t=Object.assign({},{len:8,chars:"0123456789abcdefghijklmnopqrstuvwxyz"},...e);let n="";for(let e=0;e<t.len;e++)n+=t.chars.charAt(Math.random()*t.chars.length|0);return n},b.string.currying=m,b.empty=function(e=0){return new Array(e)},b.zeros=function(e=0){return new Array(e).fill(0)},b.ones=function(e=0){return new Array(e).fill(1)},b.fill=function(e=0,t=0){return new Array(e).fill(t)},b.range=function(...e){let t=0,n=0,r=1;const i=f(e)||((e,t)=>e);1===e.length?n=e[0]:2===e.length?(t=e[0],n=e[1]):3===e.length&&(t=e[0],n=e[1],r=e[2]);const o=[];if(t>n&&r>=0)throw new Error("Start is greater than end and step size is greater than or equal to 0!");for(let e=t;t<n?e<n:e>n;e+=r)o.push(i.currying?i():i(e,o));return o},b.page=function(e,t,n,r){return this.range((t-1)*n,Math.min(t*n,e),r)}.bind(b),b.linspace=function(e,t,n,r=!0){const i=(t-e)/(n-r),o=[];for(let t=0;t<n;t++)o.push(e+i*t);return o},b.min=function(...e){return Math.min(...e)},b.max=function(...e){return Math.max(...e)},b.sum=function(...e){return e.reduce((e,t)=>e+t,0)},b.mean=function(...e){return this.sum(...e)/e.length}.bind(b),b.median=function(...e){const t=f(e)||((e,t)=>e-t);return e.sort(t),e.length%2==0?(e[e.length/2-1]+e[e.length/2])/2:e[Math.floor(e.length/2)]},b.var=function(...e){const t=this.mean(...e);return this.sum(...e.map(e=>(e-t)**2))/e.length}.bind(b),b.std=function(...e){return Math.sqrt(this.var(...e))}.bind(b),b.normal=function(e,t=0,n=1){throw new Error("like numpy.normal, but not implemented!")},b.shuffle=function(e){let t,n,r=e.length;for(;r;)n=Math.floor(Math.random()*r--),t=e[r],e[r]=e[n],e[n]=t;return e},b.probability_table=function(...e){const t=f(e)||this.shuffle,n=[];for(const[t,r]of e)for(let e=0;e<r;e++)n.push(t);return t(n)},b.probability=function(...e){let t=[],n=0;return(r,i)=>{n>=t.length&&(t=this.probability_table(...e),n=0);const o=t[n++];return o&&o.constructor===Function?o(r,i):o}}.bind(b),b.float=b.number.currying({min:-2147483648,max:2147483647}).bind(b),b.float.currying=m,b.float8=b.number.currying({min:-128,max:127}).bind(b),b.float8.currying=m,b.float16=b.number.currying({min:-32768,max:32767}).bind(b),b.float16.currying=m,b.float32=b.number.currying({min:-2147483648,max:2147483647}).bind(b),b.float32.currying=m,b.float64=b.number.currying({min:c,max:d}).bind(b),b.float64.currying=m,b.ufloat=b.number.currying({min:0,max:4294967295}).bind(b),b.ufloat.currying=m,b.ufloat8=b.number.currying({min:0,max:255}).bind(b),b.ufloat8.currying=m,b.ufloat16=b.number.currying({min:0,max:65535}).bind(b),b.ufloat16.currying=m,b.ufloat32=b.number.currying({min:0,max:4294967295}).bind(b),b.ufloat32.currying=m,b.ufloat64=b.number.currying({min:0,max:h}).bind(b),b.ufloat64.currying=m,b.int=b.number.currying({min:-2147483648,max:2147483647,decimal:0}).bind(b),b.int.currying=m,b.int8=b.number.currying({min:-128,max:127,decimal:0}).bind(b),b.int8.currying=m,b.int16=b.number.currying({min:-32768,max:32767,decimal:0}).bind(b),b.int16.currying=m,b.int32=b.number.currying({min:-2147483648,max:2147483647,decimal:0}).bind(b),b.int32.currying=m,b.int64=b.number.currying({min:c,max:d,decimal:0}).bind(b),b.int64.currying=m,b.uint=b.number.currying({min:0,max:4294967295,decimal:0}).bind(b),b.uint.currying=m,b.uint8=b.number.currying({min:0,max:255,decimal:0}).bind(b),b.uint8.currying=m,b.uint16=b.number.currying({min:0,max:65535,decimal:0}).bind(b),b.uint16.currying=m,b.uint32=b.number.currying({min:0,max:4294967295,decimal:0}).bind(b),b.uint32.currying=m,b.uint64=b.number.currying({min:0,max:h,decimal:0}).bind(b),b.uint64.currying=m,b.server=new o,b.use=b.server.use.bind(b.server),b.get=b.server.get.bind(b.server),b.post=b.server.post.bind(b.server),b.put=b.server.put.bind(b.server),b.delete=b.server.delete.bind(b.server),b.route=b.server.route.bind(b.server),b.servers=[b.server],b.addServer=function(e){this.servers.push(e)}.bind(b),b.handle=async function(e){for(const t of this.servers)if(t.isHost(e.uri.host))return await t.handle(e);return!1}.bind(b),b.Server=o,b.Server.handle=b.handle,b.XMLHttpRequest=a,b.XMLHttpRequest.handle=b.handle,b.fetch=l,b.fetch.handle=b.handle;t.default=b;var g=o,y=a,w=l}]).default}));
//# sourceMappingURL=pino.min.js.map